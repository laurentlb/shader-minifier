// Generated with  (https://github.com/laurentlb/Shader_Minifier/)
#ifndef SHADER_MINIFIER_IMPL
#ifndef SHADER_MINIFIER_HEADER
# define SHADER_MINIFIER_HEADER
# define VAR_mouse "s"
# define VAR_resolution "v"
# define VAR_tex0 "y"
# define VAR_tex1 "f"
# define VAR_tex2 "o"
# define VAR_tex3 "w"
# define VAR_time "z"
#endif

#else // if SHADER_MINIFIER_IMPL

// tests/real/kinder_painter.frag
 "uniform vec2 v;"
 "uniform float z;"
 "uniform vec4 s;"
 "uniform sampler2D y,f,o,w;"
 "vec4 r[6],b[6];"
 "float t(vec4 z,vec3 m,vec3 v)"
 "{"
   "vec3 r=m-z.xyz;"
   "float w=dot(v.xz,v.xz),d=dot(v.xz,r.xz),b=d*d-w*(dot(r.xz,r.xz)-z.w*z.w);"
   "if(b>0.)"
     "b=(-d-sqrt(b))/w;"
   "return b-.001;"
 "}"
 "float d(vec4 z,vec3 m,vec3 v)"
 "{"
   "vec3 r=m-z.xyz;"
   "float d=dot(v,r),b=d*d-dot(r,r)+z.w*z.w;"
   "if(b>0.)"
     "b=-d-sqrt(b);"
   "return b-.001;"
 "}"
 "bool d(vec4 z,vec3 m,vec3 v,float w)"
 "{"
   "vec3 r=m-z.xyz;"
   "float d=dot(v,r),b=d*d-dot(r,r)+z.w*z.w;"
   "bool f=false;"
   "if(b>0.)"
     "b=-d-sqrt(b),f=b>0.&&b<w;"
   "return f;"
 "}"
 "bool t(vec4 z,vec3 m,vec3 v,float w)"
 "{"
   "vec3 r=m-z.xyz;"
   "float d=dot(v.xz,v.xz),b=dot(v.xz,r.xz),f=b*b-d*(dot(r.xz,r.xz)-z.w*z.w);"
   "bool o=false;"
   "if(f>0.)"
     "f=-b-sqrt(f),o=f>0.&&f<w*d;"
   "return o;"
 "}"
 "float n(vec4 v,vec3 z,vec3 r)"
 "{"
   "float b=dot(v.xyz,r);"
   "b=(-dot(v.xyz,z)-v.w)/(sign(b)*max(abs(b),.001));"
   "return b-.001;"
 "}"
 "vec3 n(vec4 v,vec4 m,vec3 r,out vec2 b)"
 "{"
   "vec3 z;"
   "b=m.w>2.5?"
     "z.xz=r.xz-v.xz,z.y=0.,z/=v.w,vec2(z.x,r.y):"
     "m.w>1.5?"
       "z=v.xyz,r.xz*.2:"
       "(z=(r-v.xyz)/v.w,z.xy);"
   "return z;"
 "}"
 "vec4 m(vec4 z,vec4 v,bool r)"
 "{"
   "return r?"
     "v:"
     "z;"
 "}"
 "float m(float z,float v,bool r)"
 "{"
   "return r?"
     "v:"
     "z;"
 "}"
 "int m(int z,int v,bool r)"
 "{"
   "return r?"
     "v:"
     "z;"
 "}"
 "float m(vec3 v,vec3 z,out vec4 f,out vec4 w)"
 "{"
   "float y=1e4,o;"
   "w.w=-1.;"
   "bool i;"
   "o=d(r[0],v,z);"
   "i=o>0.&&o<y;"
   "f=m(f,r[0],i);"
   "w=m(w,b[0],i);"
   "y=m(y,o,i);"
   "o=d(r[1],v,z);"
   "i=o>0.&&o<y;"
   "f=m(f,r[1],i);"
   "w=m(w,b[1],i);"
   "y=m(y,o,i);"
   "o=t(r[2],v,z);"
   "i=o>0.&&o<y;"
   "f=m(f,r[2],i);"
   "w=m(w,b[2],i);"
   "y=m(y,o,i);"
   "o=t(r[3],v,z);"
   "i=o>0.&&o<y;"
   "f=m(f,r[3],i);"
   "w=m(w,b[3],i);"
   "y=m(y,o,i);"
   "o=n(r[4],v,z);"
   "i=o>0.&&o<y;"
   "f=m(f,r[4],i);"
   "w=m(w,b[4],i);"
   "y=m(y,o,i);"
   "o=n(r[5],v,z);"
   "i=o>0.&&o<y;"
   "f=m(f,r[5],i);"
   "w=m(w,b[5],i);"
   "return m(y,o,i);"
 "}"
 "bool x(vec3 v,vec3 z,float i)"
 "{"
   "bvec4 w;"
   "w.x=d(r[0],v,z,i);"
   "w.y=d(r[1],v,z,i);"
   "w.z=t(r[2],v,z,i);"
   "w.w=t(r[3],v,z,i);"
   "return any(w);"
 "}"
 "vec4 d(vec3 v,vec4 z,vec4 r,vec3 w,vec4 i,out vec4 b)"
 "{"
   "vec3 f;"
   "float d,o;"
   "vec2 m;"
   "f=n(z,r,v,m);"
   "d=dot(f,i.xyz);"
   "b.xyz=reflect(w,f);"
   "o=max(dot(b.xyz,i.xyz),0.);"
   "o*=o;"
   "o*=o;"
   "if(x(v,i.xyz,i.w))"
     "d=0.;"
   "r*=texture2D(y,m);"
   "d=max(d,0.);"
   "r=r*(vec4(.3,.34,.38,1)+.5*vec4(1,.95,.8,1)*d)+.5*o;"
   "d=dot(f,-w);"
   "b.w=d;"
   "d=1.-d*d;"
   "d*=d;"
   "return r+.35*vec4(d);"
 "}"
 "void main()"
 "{"
   "vec4 f,i,w,o;"
   "vec2 y=(-1.+2.*gl_FragCoord.xy/v.xy)*vec2(v.x/v.y,1);"
   "r[0]=vec4(1.2*sin(2.073423*z),0,1.8*sin(2.450409*z+1.),1);"
   "r[1]=vec4(1.5*sin(1.947761*z+4.),sin(1.822099*z+1.9),1.8*sin(1.822099*z),1);"
   "r[2]=vec4(-1.2,0,0,.4);"
   "r[3]=vec4(1.2,0,0,.4);"
   "r[4]=vec4(0,1,0,2);"
   "r[5]=vec4(0,-1,0,2);"
   "b[0]=vec4(.9,.8,.6,1);"
   "b[1]=vec4(1,.6,.4,1);"
   "b[2]=vec4(.8,.6,.5,3);"
   "b[3]=vec4(.5,.5,.7,3);"
   "b[4]=vec4(1,.9,.9,2);"
   "b[5]=vec4(1,.9,.9,2);"
   "float x=.15*z-6.2831*s.x/v.x,u=2.+3.*s.y/v.y;"
   "vec2 a=vec2(cos(x),sin(x));"
   "vec3 n=normalize(vec3(y.x*a.x-a.y,y.y,a.x+y.x*a.y)),e=vec3(u*a.y,0,-u*a.x);"
   "u=m(e,n,i,w);"
   "e+=n*u;"
   "f.xyz=vec3(0,1.5,-3)-e;"
   "f.w=length(f.xyz);"
   "f.xyz=f.xyz/f.w;"
   "w=d(e,i,w,n,f,o);"
   "vec4 g,C;"
   "u=m(e,o.xyz,i,g);"
   "e+=o.xyz*u;"
   "f.xyz=vec3(0,1.5,-1)-e;"
   "f.w=length(f.xyz);"
   "f.xyz=f.xyz/f.w;"
   "g=d(e,i,g,o.xyz,f,C);"
   "w=mix(w,g,.5-.5*o.w);"
   "gl_FragColor=w;"
 "}",

#endif
